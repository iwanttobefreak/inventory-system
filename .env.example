# ===========================================
# CONFIGURACIÓN DEL SISTEMA DE INVENTARIO
# ===========================================
# COPIA ESTE ARCHIVO A .env Y MODIFICA LOS VALORES

# PUERTOS
# -------
# Puerto del frontend (Next.js)
FRONTEND_PORT=3000

# Puerto del backend (API)
BACKEND_PORT=4000

# Puerto de la base de datos PostgreSQL
DB_PORT=5432


# BASE DE DATOS
# -------------
POSTGRES_USER=inventory_user
POSTGRES_PASSWORD=inventory_pass_2024
POSTGRES_DB=inventory_db


# BACKEND (API)
# -------------
# URL de conexión a la base de datos
DATABASE_URL=postgresql://inventory_user:inventory_pass_2024@db:5432/inventory_db

# Secret para JWT (¡CÁMBIALO EN PRODUCCIÓN!)
JWT_SECRET=tu_secret_super_seguro_cambialo_en_produccion_2024

# Entorno (development/production)
NODE_ENV=development


# FRONTEND
# --------
# URL de la API del backend
# DESARROLLO LOCAL: http://localhost:BACKEND_PORT/api
# PRODUCCIÓN CON NGINX (RECOMENDADO): /api (ruta relativa)
# PRODUCCIÓN SIN NGINX: http://tudominio.com:BACKEND_PORT/api
#
# Ejemplos:
#   - Desarrollo local: http://localhost:4000/api
#   - Producción con nginx: /api
#   - Producción sin proxy: https://kairoframe.lobo99.info:4000/api
NEXT_PUBLIC_API_URL=/api

# URL pública del sitio (para QR codes y redirecciones)
# DESARROLLO LOCAL: http://localhost:FRONTEND_PORT
# PRODUCCIÓN: URL completa del dominio
# Ejemplos:
#   - Desarrollo local: http://localhost:3000
#   - Producción: https://tudominio.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# NOTA IMPORTANTE PARA PRODUCCIÓN CON NGINX:
# ==========================================
# Si usas nginx como proxy reverso (RECOMENDADO):
#   1. NEXT_PUBLIC_API_URL=/api (ruta relativa)
#   2. NEXT_PUBLIC_SITE_URL=https://tudominio.com
#   3. FRONTEND_URL en backend=https://tudominio.com (para CORS)
#   4. nginx debe hacer proxy_pass a localhost:BACKEND_PORT y localhost:FRONTEND_PORT
#   5. Ejecuta: docker compose up -d --build
#   6. Configura nginx con: sudo bash setup-nginx.sh
#
# Ver archivo nginx-kairoframe.conf para la configuración completa de nginx
# Ver TROUBLESHOOTING_404.md si tienes problemas con el proxy


# VOLÚMENES PERSISTENTES
# ----------------------
# Directorio base donde se guardarán todos los datos persistentes
# Esto incluye: base de datos PostgreSQL, imágenes subidas, etc.
# 
# IMPORTANTE: Cambia esta ruta según tu sistema operativo y preferencias
# 
# Ejemplos:
#   - macOS:     /Users/tu_usuario/kairoframe
#   - Linux:     /home/tu_usuario/kairoframe
#   - Windows:   C:/kairoframe (si usas Docker Desktop con WSL usa /c/kairoframe)
#
# Si dejas vacío o comentas esta variable, se usará ./data (carpeta local del proyecto)
# 
# Ventajas de usar una ruta personalizada:
#   ✅ Backups fáciles: solo copiar una carpeta
#   ✅ Migración simple: copiar carpeta al nuevo servidor
#   ✅ Visibilidad: ver archivos directamente desde el explorador
#   ✅ Portabilidad: independiente del proyecto
#
DIR_VOLUMENES=/mi_directorio_volumenes/volumenes_kairoframe


# ===========================================
# INSTRUCCIONES
# ===========================================
#
# CONFIGURACIÓN INICIAL:
# 1. Copia este archivo: cp .env.example .env
# 2. Edita DIR_VOLUMENES con la ruta donde quieres guardar los datos
# 3. Si es desarrollo local, puedes dejarlo en ./data
#
# PARA CAMBIAR LOS PUERTOS:
# 1. Modifica FRONTEND_PORT y BACKEND_PORT arriba
# 2. Actualiza NEXT_PUBLIC_API_URL con el nuevo puerto del backend
# 3. Actualiza NEXT_PUBLIC_SITE_URL con el nuevo puerto del frontend
# 4. Ejecuta: docker-compose down && docker-compose up -d --build
#
# PARA PRODUCCIÓN:
# 1. Cambia JWT_SECRET a un valor aleatorio seguro
# 2. Cambia las contraseñas de POSTGRES_PASSWORD
# 3. Cambia NEXT_PUBLIC_SITE_URL a tu dominio real
# 4. Cambia NODE_ENV=production
# 5. Configura DIR_VOLUMENES con una ruta persistente (ej: /var/kairoframe)
#
# BACKUPS Y MIGRACIÓN:
# - Usa ./backup.sh para hacer backup completo
# - Usa ./restore.sh <archivo.tar.gz> para restaurar
# - Ver BACKUP_GUIDE.md y VOLUMES_GUIDE.md para más información
#
# ===========================================
